#!/usr/bin/env python3
import zlib

websocket_payload_packet_1 = bytes.fromhex("""
485454502f312e312031303120537769746368696e672050726f746f636f6c730d0a5365727665723a204175746f6261686e507974686f6e2f302e31372e320d0a557067726164653a20576562536f636b65740d0a436f6e6e656374696f6e3a20557067726164650d0a5365632d576562536f636b65742d4163636570743a20415275746b4c687a744767414d7748424a393951762f727a416b593d0d0a5365632d576562536f636b65742d457874656e73696f6e733a207065726d6573736167652d6465666c6174650d0a0d0a81127b22616374696f6e223a202261757468227d
""".replace("\n", ""))



# Data from frame 1
data = websocket_payload_packet_1
# Needed per spec (https://tools.ietf.org/html/rfc7692#section-7.2.2)
data += b'\0\0\xff\xff'


z = zlib.decompressobj(wbits=-15)
out = z.decompress(data)
print(out)